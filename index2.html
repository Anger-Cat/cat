<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>CNC ç¾å ´å·¥å…·ç®±</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    button { padding: 15px 20px; font-size: 20px; width: 90%; margin: 10px auto; display: block; }
    input, select { padding: 10px; font-size: 18px; margin: 10px 0; width: 90%; }
    #result { font-size: 18px; margin-top: 20px; }
    .section { display: none; }
  </style>
</head>
<body>

<h1>CNC ç¾å ´å·¥å…·ç®±</h1>

<!-- åŠŸèƒ½é¸å–® -->
<div id="menu">
  <button onclick="showSection('pcd')">ğŸ”˜ PCD å‡åˆ†å­”è¨ˆç®—</button>
  <button onclick="showSection('feed')">ğŸ”˜ éŠ‘åˆ€é€²çµ¦ / ä¸»è»¸è½‰é€Ÿ</button>
  <button onclick="showSection('tap')">ğŸ”˜ PTç‰™æ”»ç‰™é…é€Ÿ</button>
  <button onclick="showSection('draw')">ğŸ”˜ 2D ç°¡æ˜“ç•«åœ–é¡¯ç¤º</button>
</div>

<!-- PCD åŠŸèƒ½ -->
<div id="pcd" class="section">
  <h2>PCD å‡åˆ†å­”è¨ˆç®—</h2>
  å­”æ•¸ï¼š<input type="number" id="holes" placeholder="è«‹è¼¸å…¥å­”æ•¸">
  PCDç›´å¾‘ï¼š<input type="number" id="pcd_val" placeholder="è«‹è¼¸å…¥PCDç›´å¾‘">
  <button onclick="calculatePCD()">è¨ˆç®—</button>
  <div id="pcd_result"></div>
  <button onclick="backMenu()">è¿”å›é¸å–®</button>
</div>

<!-- é€²çµ¦ä¸»è»¸åŠŸèƒ½ -->
<div id="feed" class="section">
  <h2>éŠ‘åˆ€é€²çµ¦ / ä¸»è»¸è½‰é€Ÿ</h2>
  åˆ€å…·ç›´å¾‘(mm)ï¼š<input type="number" id="tool_dia">
  æ¯é½’é€²çµ¦(mm/tooth)ï¼š<input type="number" id="fz">
  åˆ€é½’æ•¸ï¼š<input type="number" id="teeth">
  åˆ‡å‰Šé€Ÿåº¦(m/min)ï¼š<input type="number" id="vc">
  <button onclick="calcFeedSpeed()">è¨ˆç®—</button>
  <div id="feed_result"></div>
  <button onclick="backMenu()">è¿”å›é¸å–®</button>
</div>

<!-- PTç‰™åŠŸèƒ½ -->
<div id="tap" class="section">
  <h2>PTç‰™æ”»ç‰™é…é€Ÿå»ºè­°</h2>
  PTç‰™è¦æ ¼ï¼š
  <select id="pt_size">
    <option value="0">è«‹é¸æ“‡</option>
    <option value="1/8">PT 1/8</option>
    <option value="1/4">PT 1/4</option>
    <option value="3/8">PT 3/8</option>
    <option value="1/2">PT 1/2</option>
  </select>
  <button onclick="calcTap()">è¨ˆç®—</button>
  <div id="tap_result"></div>
  <button onclick="backMenu()">è¿”å›é¸å–®</button>
</div>

<!-- ç°¡æ˜“ç•«åœ–åŠŸèƒ½ï¼ˆé ç•™ï¼‰ -->
<div id="draw" class="section">
  <h2>2D ç°¡æ˜“ç•«åœ–åŠŸèƒ½ (é ç•™)</h2>
  <p>æ­¤åŠŸèƒ½é–‹ç™¼ä¸­...</p>
  <button onclick="backMenu()">è¿”å›é¸å–®</button>
</div>

<script>
function showSection(id) {
  document.querySelectorAll('.section').forEach(sec => sec.style.display = 'none');
  document.getElementById('menu').style.display = 'none';
  document.getElementById(id).style.display = 'block';
}

function backMenu() {
  document.querySelectorAll('.section').forEach(sec => sec.style.display = 'none');
  document.getElementById('menu').style.display = 'block';
}

function calculatePCD() {
  const holes = parseInt(document.getElementById('holes').value);
  const pcd = parseFloat(document.getElementById('pcd_val').value);
  if (isNaN(holes) || isNaN(pcd)) {
    alert("è«‹è¼¸å…¥æ­£ç¢ºæ•¸å€¼ï¼");
    return;
  }
  let html = `<b>åœ“å¿ƒåº§æ¨™ï¼š</b> X = 0, Y = 0<br><br>`;
  const angleStep = 360 / holes;
  for (let i = 0; i < holes; i++) {
    const angle = angleStep * i * Math.PI / 180;
    const x = (pcd / 2) * Math.cos(angle);
    const y = (pcd / 2) * Math.sin(angle);
    html += `å­” ${i + 1}ï¼šX = ${x.toFixed(3)}, Y = ${y.toFixed(3)}<br>`;
  }
  document.getElementById('pcd_result').innerHTML = html;
}

function calcFeedSpeed() {
  const dia = parseFloat(document.getElementById('tool_dia').value);
  const fz = parseFloat(document.getElementById('fz').value);
  const teeth = parseInt(document.getElementById('teeth').value);
  const vc = parseFloat(document.getElementById('vc').value);

  if (isNaN(dia) || isNaN(fz) || isNaN(teeth) || isNaN(vc)) {
    alert("è«‹è¼¸å…¥æ­£ç¢ºæ•¸å€¼ï¼");
    return;
  }

  const n = (vc * 1000) / (Math.PI * dia); // ä¸»è»¸è½‰é€Ÿrpm
  const f = fz * teeth * n;               // é€²çµ¦é‡mm/min

  document.getElementById('feed_result').innerHTML = `ä¸»è»¸è½‰é€Ÿï¼š${n.toFixed(0)} rpm<br>é€²çµ¦é‡ï¼š${f.toFixed(0)} mm/min`;
}

function calcTap() {
  const pt = document.getElementById('pt_size').value;
  let result = '';
  switch(pt) {
    case "1/8": result = "å»ºè­°è½‰é€Ÿ 800~1000 rpm"; break;
    case "1/4": result = "å»ºè­°è½‰é€Ÿ 600~800 rpm"; break;
    case "3/8": result = "å»ºè­°è½‰é€Ÿ 400~600 rpm"; break;
    case "1/2": result = "å»ºè­°è½‰é€Ÿ 300~500 rpm"; break;
    default: result = "è«‹é¸æ“‡ç‰™è¦æ ¼";
  }
  document.getElementById('tap_result').innerHTML = result;
}
</script>

</body>
</html>
